import re
import json
data = '{"TransactionID": 2987000, "TransactionDT": 86400, "TransactionAmt": 4.22683374526818, "ProductCD": "W", "card1": 13926, "card2": NaN, "card3": 150.0, "card4": "discover", "card5": 142.0, "card6": "credit", "addr1": 315.0, "addr2": 87.0, "dist1": 19.0, "P_emaildomain": null, "R_emaildomain": null, "C1": 1.0, "C2": 1.0, "C3": 0.0, "C4": 0.0, "C5": 0.0, "C6": 1.0, "C7": 0.0, "C8": 0.0, "C9": 1.0, "C10": 0.0, "C11": 2.0, "C12": 0.0, "C13": 1.0, "C14": 1.0, "D1": 14.0, "D2": NaN, "D3": 13.0, "D4": NaN, "D5": NaN, "D6": NaN, "D8": NaN, "D9": NaN, "D10": 13.0, "D11": 13.0, "D12": NaN, "D13": NaN, "D14": NaN, "D15": 0.0, "M1": "T", "M2": "T", "M3": "T", "M4": "M2", "M5": "F", "M6": "T", "M7": null, "M8": null, "M9": null, "V1": 1.0, "V2": 1.0, "V3": 1.0, "V4": 1.0, "V5": 1.0, "V6": 1.0, "V7": 1.0, "V8": 1.0, "V9": 1.0, "V10": 0.0, "V11": 0.0, "V12": 1.0, "V13": 1.0, "V14": 1.0, "V15": 0.0, "V16": 0.0, "V17": 0.0, "V18": 0.0, "V19": 1.0, "V20": 1.0, "V21": 0.0, "V22": 0.0, "V23": 1.0, "V24": 1.0, "V25": 1.0, "V26": 1.0, "V27": 0.0, "V28": 0.0, "V29": 0.0, "V30": 0.0, "V31": 0.0, "V32": 0.0, "V33": 0.0, "V34": 0.0, "V35": NaN, "V36": NaN, "V37": NaN, "V38": NaN, "V39": NaN, "V40": NaN, "V41": NaN, "V42": NaN, "V43": NaN, "V44": NaN, "V45": NaN, "V46": NaN, "V47": NaN, "V48": NaN, "V49": NaN, "V50": NaN, "V51": NaN, "V52": NaN, "V53": 1.0, "V54": 1.0, "V55": 1.0, "V56": 1.0, "V57": 0.0, "V58": 0.0, "V59": 0.0, "V60": 0.0, "V61": 1.0, "V62": 1.0, "V63": 0.0, "V64": 0.0, "V65": 1.0, "V66": 1.0, "V67": 1.0, "V68": 0.0, "V69": 0.0, "V70": 0.0, "V71": 0.0, "V72": 0.0, "V73": 0.0, "V74": 0.0, "V75": 1.0, "V76": 1.0, "V77": 1.0, "V78": 1.0, "V79": 0.0, "V80": 0.0, "V81": 0.0, "V82": 0.0, "V83": 0.0, "V84": 0.0, "V85": 0.0, "V86": 1.0, "V87": 1.0, "V88": 1.0, "V89": 0.0, "V90": 0.0, "V91": 0.0, "V92": 0.0, "V93": 0.0, "V94": 0.0, "V95": 0.0, "V96": 1.0, "V97": 0.0, "V98": 0.0, "V99": 0.0, "V100": 0.0, "V101": 0.0, "V102": 1.0, "V103": 0.0, "V104": 0.0, "V105": 0.0, "V106": 0.0, "V107": 1.0, "V108": 1.0, "V109": 1.0, "V110": 1.0, "V111": 1.0, "V112": 1.0, "V113": 1.0, "V114": 1.0, "V115": 1.0, "V116": 1.0, "V117": 1.0, "V118": 1.0, "V119": 1.0, "V120": 1.0, "V121": 1.0, "V122": 1.0, "V123": 1.0, "V124": 1.0, "V125": 1.0, "V126": 0.0, "V127": 117.0, "V128": 0.0, "V129": 0.0, "V130": 0.0, "V131": 0.0, "V132": 0.0, "V133": 117.0, "V134": 0.0, "V135": 0.0, "V136": 0.0, "V137": 0.0, "V138": NaN, "V139": NaN, "V140": NaN, "V141": NaN, "V142": NaN, "V143": NaN, "V144": NaN, "V145": NaN, "V146": NaN, "V147": NaN, "V148": NaN, "V149": NaN, "V150": NaN, "V151": NaN, "V152": NaN, "V153": NaN, "V154": NaN, "V155": NaN, "V156": NaN, "V157": NaN, "V158": NaN, "V159": NaN, "V160": NaN, "V161": NaN, "V162": NaN, "V163": NaN, "V164": NaN, "V165": NaN, "V166": NaN, "V167": NaN, "V168": NaN, "V169": NaN, "V170": NaN, "V171": NaN, "V172": NaN, "V173": NaN, "V174": NaN, "V175": NaN, "V176": NaN, "V177": NaN, "V178": NaN, "V179": NaN, "V180": NaN, "V181": NaN, "V182": NaN, "V183": NaN, "V184": NaN, "V185": NaN, "V186": NaN, "V187": NaN, "V188": NaN, "V189": NaN, "V190": NaN, "V191": NaN, "V192": NaN, "V193": NaN, "V194": NaN, "V195": NaN, "V196": NaN, "V197": NaN, "V198": NaN, "V199": NaN, "V200": NaN, "V201": NaN, "V202": NaN, "V203": NaN, "V204": NaN, "V205": NaN, "V206": NaN, "V207": NaN, "V208": NaN, "V209": NaN, "V210": NaN, "V211": NaN, "V212": NaN, "V213": NaN, "V214": NaN, "V215": NaN, "V216": NaN, "V217": NaN, "V218": NaN, "V219": NaN, "V220": NaN, "V221": NaN, "V222": NaN, "V223": NaN, "V224": NaN, "V225": NaN, "V226": NaN, "V227": NaN, "V228": NaN, "V229": NaN, "V230": NaN, "V231": NaN, "V232": NaN, "V233": NaN, "V234": NaN, "V235": NaN, "V236": NaN, "V237": NaN, "V238": NaN, "V239": NaN, "V240": NaN, "V241": NaN, "V242": NaN, "V243": NaN, "V244": NaN, "V245": NaN, "V246": NaN, "V247": NaN, "V248": NaN, "V249": NaN, "V250": NaN, "V251": NaN, "V252": NaN, "V253": NaN, "V254": NaN, "V255": NaN, "V256": NaN, "V257": NaN, "V258": NaN, "V259": NaN, "V260": NaN, "V261": NaN, "V262": NaN, "V263": NaN, "V264": NaN, "V265": NaN, "V266": NaN, "V267": NaN, "V268": NaN, "V269": NaN, "V270": NaN, "V271": NaN, "V272": NaN, "V273": NaN, "V274": NaN, "V275": NaN, "V276": NaN, "V277": NaN, "V278": NaN, "V279": 0.0, "V280": 0.0, "V281": 0.0, "V282": 1.0, "V283": 1.0, "V284": 0.0, "V285": 0.0, "V286": 0.0, "V287": 0.0, "V288": 0.0, "V289": 0.0, "V290": 1.0, "V291": 1.0, "V292": 1.0, "V293": 0.0, "V294": 1.0, "V295": 0.0, "V296": 0.0, "V297": 0.0, "V298": 0.0, "V299": 0.0, "V300": 0.0, "V301": 0.0, "V302": 0.0, "V303": 0.0, "V304": 0.0, "V305": 1.0, "V306": 0.0, "V307": 117.0, "V308": 0.0, "V309": 0.0, "V310": 0.0, "V311": 0.0, "V312": 0.0, "V313": 0.0, "V314": 0.0, "V315": 0.0, "V316": 0.0, "V317": 117.0, "V318": 0.0, "V319": 0.0, "V320": 0.0, "V321": 0.0, "V322": NaN, "V323": NaN, "V324": NaN, "V325": NaN, "V326": NaN, "V327": NaN, "V328": NaN, "V329": NaN, "V330": NaN, "V331": NaN, "V332": NaN, "V333": NaN, "V334": NaN, "V335": NaN, "V336": NaN, "V337": NaN, "V338": NaN, "V339": NaN, "id_01": NaN, "id_02": NaN, "id_03": NaN, "id_04": NaN, "id_05": NaN, "id_06": NaN, "id_09": NaN, "id_10": NaN, "id_11": NaN, "id_12": null, "id_13": NaN, "id_14": NaN, "id_15": null, "id_16": null, "id_17": NaN, "id_19": NaN, "id_20": NaN, "id_28": null, "id_29": null, "id_30": null, "id_31": null, "id_32": NaN, "id_33": null, "id_34": null, "id_35": null, "id_36": null, "id_37": null, "id_38": null, "DeviceType": null, "DeviceInfo": null, "weekdays": 5, "Hour": 0, "Day": 2, "Date_year": 2017, "Date_month": 12}'
#replace NaN with null
data_cleaned=re.sub(r'\bNaN\b','null',data)
#print(data_cleaned)
#convert to dict
json_data=json.loads(data_cleaned)

# Save to file
with open("test_data.json", "w") as f:
    json.dump(json_data, f, indent=2)
